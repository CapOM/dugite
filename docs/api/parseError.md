# `GitProcess.parseError`

## v1 API (Legacy)

Parsing error messages from Git is an essential part of detecting errors raised
by Git. `dugite` comes with a collection of known errors, and you can
pass the standard error output from your process to see if it maps to known
error messages.

For example:

```ts
const result = await GitProcess.exec([ 'pull', 'origin', branch ], path, options)
if (result.exitCode !== 0) {
  const error = GitProcess.parseError(result.stderr)
  if (error) {
    if (error === GitError.HTTPSAuthenticationFailed) {
      // invalid credentials
    }
    // TODO: other scenarios
  }
}
```


## V2 API (Preview)

The error parsing as part of the v1 API is limited, in that you don't get any
of the additional information that might be helpful to surface a helpful message
to the user.

Proposed breaking changes:

 - the v2 API will return an object with a `kind` field, to be compatible with
   v1 clients
 - this value is now a string to assist with readability, rather than a
   number that was generated by the TS compiler
 - for specific errors that contain placeholders, additional fields will be a
   part of the respons returned


```ts
const result = await GitProcess.exec(/* */ )
if (result.exitCode !== 0) {
  const error = GitProcess.parseError(result.stderr)
  if (error) {
    if (error.kind === GitErrorKey.ProtectedBranchRequiredStatus) {
      const branch = error.branch
      const message = `You are unable to push this branch because the status check '${branch}' has not been verified`
    }
    // TODO: other scenarios
  }
}
```
